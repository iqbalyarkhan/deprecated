---
title: "Typescript"
date: 2023-02-10
tags:
  - react
---

## Intro
Test! Typescript is a strict syntactical superset of JavaScript and adds optional static typing to the language. It is designed for the development of large applications and transpiles to JavaScript. 

## Compiler
Let's start at the compiler: programs are files that contain a bunch of text written by you, the programmer. That text is parsed by a special program called a compiler, which trans‐ forms it into an abstract syntax tree (AST), a data structure that ignores things like whitespace, comments, and where you stand on the tabs versus spaces debate. After the TypeScript Compiler generates an AST for your program—but before it emits code—it typechecks your code. The compiler then converts that AST to a lower-level representation called bytecode. You can feed that bytecode into another program called a runtime to evaluate it and get a result. So when you run a program, what you’re really doing is telling the runtime to evaluate the bytecode generated by the compiler from the AST parsed from your source code.

Where TypeScript is special is that instead of compiling straight to bytecode, TS compiles to JavaScript code. You then run that JavaScript code like you normally would—in your browser, or with NodeJS. 

This typechecking is the magic behind TypeScript. It’s how TypeScript makes sure that your program works as you expect, that there aren’t obvious mistakes. 

## The Type System
To explicitly signal to TypeScript what your types are, use annotations. Annotations take the form value: type and tell the typechecker, “Hey! You see this value here? Its type is type.” Let’s look at a few examples (the comments following each line are the actual types inferred by TypeScript):

```ts
let a: number = 1 // a is a number
let b: string = 'hello' // b is a string
let c: boolean[] = [true, false] // c is an array of booleans
```

And if you want TypeScript to infer your types for you, just leave them off and let TypeScript get to work:

```ts
let a = 1 // a is a number
let b = 'hello' // b is a string
let c = [true, false] // c is an array of booleans
```

TypeScript is a gradually typed language. That means that TypeScript works best when it knows the types of everything in your program at compile time, but it doesn’t have to know every type in order to compile your program. Even in an untyped pro‐ gram TypeScript can infer some types for you and catch some mistakes, but without knowing the types for everything, it will let a lot of mistakes slip through to your users. TypeScript statically analyzes your code for errors, and shows them to you before you run it.

## tsconfig.json

Every TypeScript project should include a file called tsconfig.json in its root directory. This tsconfig.json is where TypeScript projects define things like which files should be compiled, which directory to compile them to, and which version of JavaScript to emit.

```ts
{
  "compilerOptions": {
    //Which APIs should TSC assume exist in the environment you’ll be running your code in? This includes things like ES5’sFunction.prototype.bind, ES2015’sObject.assign, and the DOM’s document.querySelector.
    "lib": ["es2015"], 
    // Which module system should TSC compile your code to (CommonJS, SystemJS, ES2015, etc.)?
    "module": "commonjs", 
    // Which folder should TSC put your generated JavaScript code in?
    "outDir": "dist", 
    "sourceMap": true,
    //Be as strict as possible when checking for invalid code. This option enforces that all of your code is properly typed. We’ll be using it for all of the examples in the book, and you should use it for your TypeScript project too. 
    "strict": true,
    //Which JavaScript version should TSC compile your code to (ES3, ES5, ES2015, ES2016, etc.)? 
    "target": "es2015"
  }, 
  //# Which folders should TSC look in to find your TypeScript files?
  "include": ["src"] 
}
```

## tslint.json

Your project should also have a tslint.json file containing your TSLint configuration, codifying whatever stylistic conventions you want for your code (tabs versus spaces, etc.).

The following command will generate a tslint.json file with a default TSLint configuration:
```bash
./node_modules/.bin/tslint --init
```

You can then add overrides to this to conform with your own coding style. For example, my tslint.json looks like this:

```ts
{
  "defaultSeverity": "error", 
  "extends": [
      "tslint:recommended"
  ], 
  "rules": {
    "semicolon": false,
    "trailing-comma": false 
  }
}

```